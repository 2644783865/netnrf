@{
    ViewBag.Title = "一级表单";
}

@{Html.RenderAction("Action_BuildForm", "Partial", new { vname = "sys_column", modalsize = "2" });}

<script src="~/Scripts/z.js"></script>

<script>

    z.DC["ls_format"] = [
        { id: "", text: "无格式化", selected: true },
        { id: "col_custom_", text: "col_custom_开头 + field" },
        { id: "11", text: "yyyy-MM" },
        { id: "12", text: "HH:mm:ss" },
        { id: "13", text: "yyyy-MM-dd HH:mm:ss" },
        { id: "14", text: "yyyy-MM-dd" },
        { id: "15", text: "精确两位" },
        { id: "16", text: "确两位 带￥" },
        { id: "17", text: "1√ 0×" },
        { id: "18", text: "1× 0√" },
        { id: "19", text: "1正常 0停用" },
        { id: "20", text: "2居中 3居右" },
        { id: "21", text: "1 隐藏列" },
        { id: "22", text: "1 冻结列" }
    ];

    z.DC["ls_f_type"] = [
        { id: "text", text: "text 文本" },
        { id: "date", text: "yyyy-MM-dd 日期" },
        { id: "time", text: "mm:ss 时间" },
        { id: "datetime", text: "yyyy-MM-dd HH:mm:ss 日期时间" },
        { id: "calc", text: "calc 计算器" },
        { id: "combobox", text: "combobox 下拉列表框" },
        { id: "combotree", text: "combotree 下拉列表树" },
        { id: "modal", text: "modal 模态弹出（浏览）" },
        { id: "checkbox", text: "checkbox 复选框" }
    ];

    z.DC["ls_f_area"] = [
        { id: 1, text: "表格配置", selected: true },
        { id: 2, text: "表单配置" }
    ];

    z.DC["ls_f_col"] = [
        { id: 1, text: "一半排", selected: true },
        { id: 2, text: "一整排" }
    ];

    //表格配置
    z.DC["TableN"] = { vname: "sys_column" };

    //表单配置 表单ID索引，区域标题，配置对象
    z.DC["FormN"] = [{ index: 1, areas: z.DC["ls_f_area"], active: true, vname: "sys_column" }];


    //新增前 准备
    function addReady() {
        $('#_af_saveadd_1').show();
        $('#_af_save_1').attr('savetype', 0)
        z.RequiredValidation('reset', '#_af_form_1');
        z.FormTitle({
            id: "#_af_title_1",
            icon: 0,
            title: '新增列表配置'
        });

        z.FormClear();
        $('#_af_modal_1').modal('show');
    }

    //新增
    z.button('add', function () {
        addReady();
    });

    //模拟点击
    setTimeout(function () {
        $('#m_Add')[0].click();
    }, 500)
</script>